# ------- 画面表示 --------

# main view の左端にコミットIDを表示する
set main-view = id date author:full commit-title:graph=yes,refs=yes

# blame view の行数表示をON、intervalを1に
set blame-view  = date:default author:email-user id:yes,color line-number:yes,interval=1 text

# Pager系の行数表示をON、intervalを1に (default: line-number:no,interval=5)
set pager-view  = line-number:yes,interval=1 text
set stage-view  = line-number:yes,interval=1 text
set log-view    = line-number:yes,interval=1 text
set blob-view   = line-number:yes,interval=1 text
set diff-view   = line-number:yes,interval=1 text:yes,commit-title-overflow=no

# 差分表示に diff-highlight を使う (tig 2.2.1 以降. diff-highlight が $PATH にあること)
set diff-highlight = true

# diff-view で境界が見やすくなるように変更
color  diff-header  default magenta
color  diff-chunk   black   white

# マージ diff を表示する
set diff-options = -m --first-parent

# ------- キーバンド --------

# + で commit --amend
bind generic + !git commit --amend --allow-empty

# S で stash save
# A で stash apply
bind stash S ?git stash save "%(prompt Enter stash comment: )"
bind stash A ?git stash apply %(stash)

# R で rebase -i
# F で commit --fixup
# S で commit --squash
bind main R !git  rebase -i %(commit)
bind main F ?!git commit --fixup %(commit)
bind main S ?!git commit --squash %(commit)
bind diff R !git  rebase -i %(commit)
bind diff F ?!git commit --fixup %(commit)
bind diff S ?!git commit --squash %(commit)

# H で クリップボードに commit hash をコピー
bind main H !@git pbcopy %(commit)
